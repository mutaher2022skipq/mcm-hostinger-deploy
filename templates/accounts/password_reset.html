{% extends 'base.html' %}
{% block content %}
<div class="flex items-center justify-center min-h-screen bg-gray-100">
  <div class="bg-white shadow-xl rounded-2xl p-8 w-full max-w-md text-center">
    
    <!-- Logo -->
    <img src="/static/images/logo.png" alt="MCM Logo" class="mx-auto w-20 mb-3 drop-shadow-md">

    <h2 class="text-2xl font-bold text-mcmGreen mb-1">Forgot Your Password?</h2>
    <p class="text-gray-600 text-sm mb-6">
      Enter your registered email to receive a password reset link.
    </p>

    <!-- Messages -->
    {% if messages %}
      <div class="space-y-2 mb-4">
        {% for message in messages %}
          <div class="p-3 rounded-lg text-sm
            {% if message.tags == 'error' %} bg-red-100 text-red-700 border border-red-300
            {% elif message.tags == 'success' %} bg-green-100 text-green-700 border border-green-300
            {% else %} bg-yellow-100 text-yellow-700 border border-yellow-300 {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Password Reset Form -->
    <form method="POST" class="space-y-4 text-left">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <label for="{{ form.email.id_for_label }}" class="font-semibold text-gray-700 text-sm">
        Email Address
      </label>
      <div>
        {{ form.email }}
        {% if form.email.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.email.errors|striptags }}</p>
        {% endif %}
      </div>

      <button type="submit"
              class="w-full bg-mcmGreen text-white py-2.5 rounded-lg font-semibold hover:bg-mcmOlive transition">
        Send Reset Link
      </button>
    </form>

    <p class="text-sm text-gray-600 mt-6">
      Remembered your password?
      <a href="{% url 'accounts:login' %}" class="text-mcmGreen font-medium hover:text-mcmOlive">
        Login here
      </a>
    </p>
  </div>
</div>
{% endblock %}
